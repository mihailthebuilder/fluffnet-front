(this["webpackJsonpfluffnet-front"]=this["webpackJsonpfluffnet-front"]||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var c=n(15),s=n.n(c),a=n(43),i=n.n(a),r=(n(50),n(10)),o=(n(51),n(52),n(5)),l=function(){return Object(o.jsxs)("header",{children:[Object(o.jsx)("nav",{children:Object(o.jsx)("a",{href:"#faq",children:"FAQ"})}),Object(o.jsxs)("h1",{children:[Object(o.jsx)("span",{className:"title-emoji",children:"\u2601\ufe0f"})," FluffNet"," ",Object(o.jsx)("span",{className:"title-emoji",children:"\u2601\ufe0f"})]})]})},h=n(44),j=n.n(h),d=(n(71),function(e){var t=e.image,n=e.setImage,s=e.setMessage,a=e.setPrediction,i=Object(c.useState)(!1),l=Object(r.a)(i,2),h=l[0],d=l[1];return Object(o.jsxs)("section",{id:"hero",children:[Object(o.jsxs)("div",{className:"hero-left",children:[Object(o.jsx)("p",{children:"Upload an image and our \ud83e\udd16 will tell you if it has something fluffy in it \ud83e\uddf8."}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(!0),s("analysing the image, might take up to 2 minutes \u23f3");var n=new FormData;n.append("image",t.raw);var c="localhost"===window.location.hostname?"http://localhost:5000/":"https://fluffnet-api.herokuapp.com";j.a.post(c,n).then((function(e){if(200!==e.status)throw new Error("Response status !== 200",{res:e});var t=e.data,n=t.fluffy,c=t.prob;if(void 0===n||void 0===c)throw new Error("Undefined response",{res:e});var i="True"===n,r=Math.round(100*c);i||(r=100-r);var o=i?"it's fluffy \ud83e\uddf8":"it's not fluffy \ud83d\udd28",l=" (with ".concat(r,"% confidence)");a({fluffy:n,prob:c}),s(o+l),d(!1)})).catch((function(e){s("something went wrong \ud83d\ude35 try again please!"),console.error(e.message),console.error(e.res)}))},children:[Object(o.jsxs)("label",{children:[Object(o.jsx)("span",{className:"button upload-button",children:"Upload image"}),Object(o.jsx)("input",{onChange:function(e){n({preview:"",raw:""}),a({});var t=e.target.files[0];void 0!==t&&t.type.includes("image")?t.size/1024/1024>=10?s("upload an image of less than 10 MB"):(n({preview:URL.createObjectURL(t),raw:t}),s("quick, send it to me \ud83d\udce8")):s("please give me an image \ud83d\uddbc\ufe0f")},type:"file",required:!0})]}),Object(o.jsx)("button",{className:!t.preview||h?"button":"button submit-enabled",type:"submit",disabled:!t.preview||h,children:h?"Loading...":"Submit"})]})]}),Object(o.jsx)("div",{className:"hero-right",children:t.preview?Object(o.jsx)("img",{alt:"",src:t.preview}):Object(o.jsx)("div",{className:"image-placeholder",children:"Image will be shown here "})})]})}),u=(n(72),function(e){var t=e.message;return Object(o.jsx)("section",{id:"results",children:Object(o.jsxs)("h2",{children:["\ud83e\udd16 says...",Object(o.jsx)("span",{className:"robot-message",children:t})]})})}),b=(n(73),function(){return Object(o.jsxs)("section",{id:"faq",children:[Object(o.jsx)("h2",{children:"FAQ"}),Object(o.jsxs)("div",{className:"question",children:[Object(o.jsx)("h3",{children:"How does this work?"}),Object(o.jsxs)("p",{children:["Check out the source code"," ",Object(o.jsx)("a",{href:"https://github.com/mihailthebuilder/fluffnet",children:"here"}),"."]})]}),Object(o.jsxs)("div",{className:"question",children:[Object(o.jsx)("h3",{children:"Do you store the images I upload?"}),Object(o.jsxs)("p",{children:["Only if you click the ",Object(o.jsx)("b",{children:"Correct"}),"/",Object(o.jsx)("b",{children:"Incorrect"})," buttons. In that case, we'll use your feedback to make the model more accurate."]})]}),Object(o.jsxs)("div",{className:"question",children:[Object(o.jsx)("h3",{children:"How can I let you know about an issue/error with the website/model?"}),Object(o.jsxs)("p",{children:["If you're a dev, you can raise a ticket on the"," ",Object(o.jsx)("a",{href:"https://github.com/mihailthebuilder/fluffnet",children:"GitHub repo"}),". If not, you can send me a message on"," ",Object(o.jsx)("a",{href:"https://www.linkedin.com/in/mihailmarian/",children:"LinkedIn"}),"."]})]}),Object(o.jsxs)("div",{className:"question",children:[Object(o.jsx)("h3",{children:"Can I contact you about anything else?"}),Object(o.jsxs)("p",{children:["Sure! I'm always open to talking to people about deep learning. Just send me a message on"," ",Object(o.jsx)("a",{href:"https://www.linkedin.com/in/mihailmarian/",children:"LinkedIn"}),"."]})]})]})}),f=(n(74),n(45)),m=n(29),p=n(30);Object(f.a)({apiKey:"AIzaSyDCqHep8arVct7xlRCZpOY5T8dU44FpygM",authDomain:"fluffnet-ai.firebaseapp.com",projectId:"fluffnet-ai",storageBucket:"fluffnet-ai.appspot.com",messagingSenderId:"443265600217",appId:"1:443265600217:web:a0522ad0c63fcd5c8accc8"});var O=Object(m.c)(),x=function(e,t,n){var c=Object(p.a)(),s=e.name,a=s.substring(s.lastIndexOf("."));s=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c=n.length,s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*c));return t}(20)+a;var i=Object(p.b)(c,s);Object(p.c)(i,e).then((function(){Object(m.a)(Object(m.b)(O,"feedback"),{fileName:s,prediction:t,correct:n,timestamp:new Date}).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))}))},g=function(e){var t=e.prediction,n=e.rawImage,s=Object(c.useState)(!1),a=Object(r.a)(s,2),i=a[0],l=a[1],h=function(e){l(!0),x(n,t,"correct"===e.target.value)};return Object(o.jsx)("section",{id:"feedback",children:i?Object(o.jsx)("p",{className:"feedback-sent",children:"Thank you for the feedback \ud83d\ude4f"}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"buttons-container",children:[Object(o.jsx)("button",{type:"button",className:"button left",onClick:h,value:"correct",children:"Correct"}),Object(o.jsx)("button",{className:"button right",onClick:h,value:"incorrect",children:"Incorrect"})]}),Object(o.jsxs)("p",{className:"note",children:["We will store the photo and the \ud83e\udd16's results if you answer this. See the ",Object(o.jsx)("a",{href:"#faq",children:"FAQs"})," for more."]})]})})};var w=function(){var e=Object(c.useState)({preview:"",raw:""}),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)("gimme an image puh-leeeaase \ud83e\udd7a"),i=Object(r.a)(a,2),h=i[0],j=i[1],f=Object(c.useState)({}),m=Object(r.a)(f,2),p=m[0],O=m[1];return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(l,{}),Object(o.jsx)(d,{image:n,setImage:s,setMessage:j,setPrediction:O}),Object(o.jsx)(u,{message:h}),p.prob&&n.raw&&Object(o.jsx)(g,{prediction:p,rawImage:n.raw}),Object(o.jsx)(b,{})]})};i.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(w,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.f2820e72.chunk.js.map