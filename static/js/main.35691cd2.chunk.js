(this["webpackJsonpfluffnet-front"]=this["webpackJsonpfluffnet-front"]||[]).push([[0],{50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var n=c(15),s=c.n(n),a=c(43),i=c.n(a),r=(c(50),c(10)),o=(c(51),c(52),c(5)),l=function(){return Object(o.jsxs)("header",{children:[Object(o.jsx)("nav",{children:Object(o.jsx)("a",{href:"#faq",children:"FAQ"})}),Object(o.jsxs)("h1",{children:[Object(o.jsx)("span",{className:"title-emoji",children:"\u2601\ufe0f"})," FluffNet"," ",Object(o.jsx)("span",{className:"title-emoji",children:"\u2601\ufe0f"})]})]})},j=c(44),h=c.n(j),d=(c(71),function(e){var t=e.image,c=e.setImage,s=e.setMessage,a=e.setPrediction,i=Object(n.useState)(!1),l=Object(r.a)(i,2),j=l[0],d=l[1];return Object(o.jsxs)("section",{id:"hero",children:[Object(o.jsxs)("div",{className:"hero-left",children:[Object(o.jsx)("p",{children:"Upload an image and our \ud83e\udd16 will tell you if it has something fluffy in it \ud83e\uddf8."}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(!0);var c=new FormData;c.append("image",t.raw);var n="localhost"===window.location.hostname?"http://localhost:5000/":"https://fluffnet-api.herokuapp.com";h.a.post(n,c).then((function(e){if(200!==e.status)throw new Error("Response status !== 200",{res:e});var t=e.data,c=t.fluffy,n=t.prob;if(void 0===c||void 0===n)throw new Error("Undefined response",{res:e});var i="True"===c,r=Math.round(100*n);i||(r=100-r);var o=i?"it's fluffy \ud83e\uddf8":"it's not fluffy \ud83d\udd28",l=" (with ".concat(r,"% confidence)");a({fluffy:c,prob:n}),s(o+l),d(!1)})).catch((function(e){s("something went wrong \ud83d\ude35 try again please!"),console.error(e.message),console.error(e.res)}))},children:[Object(o.jsxs)("label",{children:[Object(o.jsx)("span",{className:"button upload-button",children:"Upload image"}),Object(o.jsx)("input",{onChange:function(e){c({preview:"",raw:""}),a({});var t=e.target.files[0];void 0!==t&&t.type.includes("image")?t.size/1024/1024>=10?s("upload an image of less than 10 MB"):(c({preview:URL.createObjectURL(t),raw:t}),s("quick, send it to me \ud83d\udce8")):s("please give me an image \ud83d\uddbc\ufe0f")},type:"file",required:!0})]}),Object(o.jsx)("button",{className:!t.preview||j?"button":"button submit-enabled",type:"submit",disabled:!t.preview||j,children:j?"Loading...":"Submit"})]})]}),Object(o.jsx)("div",{className:"hero-right",children:t.preview?Object(o.jsx)("img",{alt:"",src:t.preview}):Object(o.jsx)("div",{className:"image-placeholder",children:"Image will be shown here "})})]})}),u=(c(72),function(e){var t=e.message;return Object(o.jsx)("section",{id:"results",children:Object(o.jsxs)("h2",{children:["\ud83e\udd16 says...",Object(o.jsx)("span",{className:"robot-message",children:t})]})})}),b=(c(73),function(){return Object(o.jsxs)("section",{id:"faq",children:[Object(o.jsx)("h2",{children:"FAQ"}),Object(o.jsxs)("div",{className:"question",children:[Object(o.jsx)("h3",{children:"How does this work?"}),Object(o.jsxs)("p",{children:["Check out the source code"," ",Object(o.jsx)("a",{href:"https://github.com/mihailthebuilder/fluffnet",children:"here"}),"."]})]}),Object(o.jsxs)("div",{className:"question",children:[Object(o.jsx)("h3",{children:"Do you store the images I upload?"}),Object(o.jsxs)("p",{children:["Only if you click the ",Object(o.jsx)("b",{children:"Correct"}),"/",Object(o.jsx)("b",{children:"Incorrect"})," buttons. In that case, we'll use your feedback to make the model more accurate."]})]}),Object(o.jsxs)("div",{className:"question",children:[Object(o.jsx)("h3",{children:"How can I let you know about an issue/error with the website/model?"}),Object(o.jsxs)("p",{children:["If you're a dev, you can raise a ticket on the"," ",Object(o.jsx)("a",{href:"https://github.com/mihailthebuilder/fluffnet",children:"GitHub repo"}),". If not, you can send me a message on"," ",Object(o.jsx)("a",{href:"https://www.linkedin.com/in/mihailmarian/",children:"LinkedIn"}),"."]})]}),Object(o.jsxs)("div",{className:"question",children:[Object(o.jsx)("h3",{children:"Can I contact you about anything else?"}),Object(o.jsxs)("p",{children:["Sure! I'm always open to talking to people about deep learning. Just send me a message on"," ",Object(o.jsx)("a",{href:"https://www.linkedin.com/in/mihailmarian/",children:"LinkedIn"}),"."]})]})]})}),f=(c(74),c(45)),m=c(29),p=c(30);Object(f.a)({apiKey:"AIzaSyDCqHep8arVct7xlRCZpOY5T8dU44FpygM",authDomain:"fluffnet-ai.firebaseapp.com",projectId:"fluffnet-ai",storageBucket:"fluffnet-ai.appspot.com",messagingSenderId:"443265600217",appId:"1:443265600217:web:a0522ad0c63fcd5c8accc8"});var O=Object(m.c)(),x=function(e,t,c){var n=Object(p.a)(),s=e.name,a=s.substring(s.lastIndexOf("."));s=function(e){for(var t="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n=c.length,s=0;s<e;s++)t+=c.charAt(Math.floor(Math.random()*n));return t}(20)+a;var i=Object(p.b)(n,s);Object(p.c)(i,e).then((function(){Object(m.a)(Object(m.b)(O,"feedback"),{fileName:s,prediction:t,correct:c,timestamp:new Date}).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))}))},g=function(e){var t=e.prediction,c=e.rawImage,s=Object(n.useState)(!1),a=Object(r.a)(s,2),i=a[0],l=a[1],j=function(e){l(!0),x(c,t,"correct"===e.target.value)};return Object(o.jsx)("section",{id:"feedback",children:i?Object(o.jsx)("p",{className:"feedback-sent",children:"Thank you for the feedback \ud83d\ude4f"}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"buttons-container",children:[Object(o.jsx)("button",{type:"button",className:"button left",onClick:j,value:"correct",children:"Correct"}),Object(o.jsx)("button",{className:"button right",onClick:j,value:"incorrect",children:"Incorrect"})]}),Object(o.jsxs)("p",{className:"note",children:["We will store the photo and the \ud83e\udd16's results if you answer this. See the ",Object(o.jsx)("a",{href:"#faq",children:"FAQs"})," for more."]})]})})};var w=function(){var e=Object(n.useState)({preview:"",raw:""}),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)("gimme an image puh-leeeaase \ud83e\udd7a"),i=Object(r.a)(a,2),j=i[0],h=i[1],f=Object(n.useState)({}),m=Object(r.a)(f,2),p=m[0],O=m[1];return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(l,{}),Object(o.jsx)(d,{image:c,setImage:s,setMessage:h,setPrediction:O}),Object(o.jsx)(u,{message:j}),p.prob&&c.raw&&Object(o.jsx)(g,{prediction:p,rawImage:c.raw}),Object(o.jsx)(b,{})]})};i.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(w,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.35691cd2.chunk.js.map